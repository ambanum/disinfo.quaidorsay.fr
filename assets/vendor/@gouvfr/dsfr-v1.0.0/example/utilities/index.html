<!doctype html>
<html lang="fr" data-fr-theme>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Outils - Design System</title>
        <link rel="apple-touch-icon" href="../../dist/favicons/apple-touch-icon.png"><!-- 180×180 -->
        <link rel="icon" href="../../dist/favicons/favicon.svg" type="image/svg+xml">
        <!-- si favicon.ico peut etre placé à la racine du serveur, retirer la ligne ci-dessous -->
        <link rel="shortcut icon" href="../../dist/favicons/favicon.ico" type="image/x-icon"><!-- 32×32 -->
        <link rel="manifest" href="/dist/favicons/manifest.webmanifest" crossorigin="use-credentials">
        <!-- Modifier les chemins relatifs des favicons en fonction de la structure du projet -->
        <!-- Dans le fichier manifest.webmanifest aussi, modifier les chemins vers les images -->
        <link href="../../dist/css/core.css" rel="stylesheet">
        <link href="../../dist/css/forms.css" rel="stylesheet">
        <link href="../../dist/css/links.css" rel="stylesheet">
        <link href="../../dist/css/schemes.css" rel="stylesheet">
        <link href="../../dist/css/table.css" rel="stylesheet">
        <link href="../../dist/css/utilities.css" rel="stylesheet">
        <link href="../../dist/css/accordions.css" rel="stylesheet">
        <link href="../../dist/css/buttons.css" rel="stylesheet">
        <link href="../../dist/css/checkboxes.css" rel="stylesheet">
        <style>
            code[class*="language-"],
            pre[class*="language-"] {
                white-space: pre-wrap;
            }

            .example-controls {
                z-index: 100000;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.1), 0 8px 16px -16px rgba(0, 0, 0, 0.32);
            }

            .example-controls>button {
                position: absolute;
                right: 0;
                top: 0;
            }

            .example-controls__content {

                padding: 16px;
                background-color: var(--w-g750);
            }

            .example-controls .fr-collapse--expanded~[aria-expanded] {
                display: none;
            }

            .example-controls .fr-collapse:not(.fr-collapse--expanded)~button:not([aria-expanded]) {
                display: none;
            }

            .example-controls [class*="-form-group"] {
                margin-bottom: 0;
            }

        </style>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism.min.css" rel="stylesheet" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet" />
    </head>

    <body class="fr-mb-12w" style="margin:0; padding:0;">
        <div class="example-controls">
            <div class="fr-collapse" id="controls">
                <div class="example-controls__content">
                    <div class="fr-form-group">
                        <fieldset class="fr-fieldset">
                            <legend class="fr-sr-only">Interface de contrôle des tests</legend>
                            <div class="fr-fieldset__content">
                                <div class="fr-checkbox-group">
                                    <input type="checkbox" id="theme-checkbox" name="checkboxes-inline-1">
                                    <label class="fr-label" for="theme-checkbox">Thème clair / sombre</label>
                                </div>
                                <div class="fr-checkbox-group">
                                    <input type="checkbox" id="mourning-checkbox" name="checkboxes-inline-2">
                                    <label class="fr-label" for="mourning-checkbox">En deuil</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
            <button class="fr-btn fr-btn--sm fr-fi-add-line" aria-expanded="false" aria-controls="controls">Interface de contrôle</button>
            <button class="fr-btn fr-btn--sm fr-fi-subtract-line" aria-controls="controls">Fermer</button>
        </div>
        <div class="fr-container fr-mt-2v fr-mb-8w">
            <a class="fr-link fr-fi-arrow-left-line fr-link--icon-left" href="../">Retour</a>
            <h1>Outils (utilities)</h1>
            <p>Ce package regroupe des classes utilitaires CSS et classes javascript utilisées par les autres packages du Design System de l'Etat.</p>
        </div>
        <div class="fr-container">
            <div class="fr-grid-row fr-grid-row--center">
                <div class="fr-col-md-8 fr-col-12">
                    <style>
                        .sample-box span {
                            background-color: var(--bf500);
                            color: var(--w);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            min-width: 40px;
                            min-height: 40px;
                            position: relative;
                        }

                        .sample-box>span {
                            opacity: 0.8;
                        }

                        .sample-box>span:not(:first-child),
                        .sample-box>span>span {
                            background-color: var(--rm500);
                        }

                        table td div {
                            display: flex;
                            align-items: center;
                        }

                    </style>
                    <h2>Espacements</h2>
                    <h6>Margin/padding</h6>
                    <p> Des classes utilitaires sont disponibles pour gérer les marges intérieures et extérieures d'un élément html.
                        <br>
                        Celles-ci suivent la structure suivante (entre crochets les valeurs, facultatives, possibles):
                    </p>
                    <ul>
                        <li>Pour le margin : fr-m[t/r/b/l/x/y]-[n]0[v]</li>
                        <li>pour le padding : fr-p[t/r/b/l/x/y]-0[v]</li>
                    </ul>
                    <p>
                        - Le prefix : 'fr-',
                        <br>
                        - la lettre 'm' pour margin ou 'p' pour padding,
                        <br>
                        - l'orientation avec 't', 'r', 'b', 'l' (top, right, bottom, left) ou 'x', 'y' (horizontal, vertical),
                        <br>
                        - un séparateur : '-',
                        <br>
                        - le token d'espacement (nb: le signe '-' des nombres négatifs est remplacé par la lettre 'n', et 0 n'a pas d'unité 'v')</p>
                    </p>
                    <div class="fr-table">
                        <table>
                            <caption>Classes d'espacements :</caption>
                            <thead>
                                <tr>
                                    <th>Classe</th>
                                    <th>Description</th>
                                    <th>Exemple d'espacement</th>
                                    <th>Exemple de classe</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fr-m-</td>
                                    <td>Margin</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-m-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-m-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-mt-</td>
                                    <td>Margin top</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-mt-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-mt-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-mr-</td>
                                    <td>Margin right</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-mr-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-mr-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-mb-</td>
                                    <td>Margin bottom</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-mb-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-mb-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-ml-</td>
                                    <td>Margin left</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-ml-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-ml-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-mx-</td>
                                    <td>Margin left &amp; right</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-mx-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-mx-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-my-</td>
                                    <td>Margin top &amp; bottom</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>
                                                <span class="fr-my-2v"></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-my-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-p-</td>
                                    <td>Padding</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-p-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-p-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-pt-</td>
                                    <td>Padding top</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-pt-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-pt-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-pr-</td>
                                    <td>Padding right</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-pr-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-pr-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-pb-</td>
                                    <td>Padding bottom</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-pb-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-pb-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-pl-</td>
                                    <td>Padding left</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-pl-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-pl-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-px-</td>
                                    <td>Padding left &amp; right</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-px-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-px-2v</td>
                                </tr>
                                <tr>
                                    <td>fr-py-</td>
                                    <td>Padding top &amp; bottom</td>
                                    <td>
                                        <div class="sample-box">
                                            <span class="fr-py-2v">
                                                <span></span>
                                            </span>
                                        </div>
                                    </td>
                                    <td>fr-py-2v</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h6>Breakpoints</h6>
                    <p>Il est possible de définir le breakpoint à partir du quel on applique l'espacement.
                        <br>
                        Il suffit d'ajouter à la classe le breakpoint (md) avant la valeur du token. ex: fr-p<b>-md</b>-4v</p>
                    <p>Pour adapter les espacements à la taille de l'écran, on peut ainsi combiner les classes en partant du mobile puis en surchargeant en md </p>
                    <h4>exemple avec un bouton plus large en md</h4>
                    <div class="fr-mb-6v">
                        <button class="fr-px-4v fr-px-md-16v fr-btn">
                            4v en mobile / 16v en md
                        </button>
                    </div>
                    <div class="fr-mb-12v">
                        <section class="fr-accordion">
                            <h3 class="fr-accordion__title">
                                <button class="fr-accordion__btn" aria-expanded="false" aria-controls="snippet-372">Extrait de code</button>
                            </h3>
                            <div class="fr-collapse" id="snippet-372">
                                <pre class=" language-html"><code>&lt;button class="fr-px-4v fr-px-md-16v fr-btn"&gt;
    4v en mobile / 16v en md
&lt;/button&gt;
</code></pre>
                            </div>
                        </section>
                    </div>
                    <div class="fr-table">
                        <table>
                            <caption>Valeurs des tokens d'espacements :</caption>
                            <thead>
                                <tr>
                                    <th>Token</th>
                                    <th>rem</th>
                                    <th>px</th>
                                    <th>Exemple d'espacement</th>
                                    <th>Exemple de classe</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>-8v</td>
                                    <td>-2</td>
                                    <td>-32</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-n8v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-n8v</td>
                                </tr>
                                <tr>
                                    <td>-6v</td>
                                    <td>-1.5</td>
                                    <td>-24</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-n6v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-n6v</td>
                                </tr>
                                <tr>
                                    <td>-4v</td>
                                    <td>-1</td>
                                    <td>-16</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-n4v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-n4v</td>
                                </tr>
                                <tr>
                                    <td>-2v</td>
                                    <td>-0.5</td>
                                    <td>-8</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-n2v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-n2v</td>
                                </tr>
                                <tr>
                                    <td>0v</td>
                                    <td>0</td>
                                    <td>0</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-0">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-0</td>
                                </tr>
                                <tr>
                                    <td>2v</td>
                                    <td>0.5</td>
                                    <td>8</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-2v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-2v</td>
                                </tr>
                                <tr>
                                    <td>4v</td>
                                    <td>1</td>
                                    <td>16</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-4v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-4v</td>
                                </tr>
                                <tr>
                                    <td>6v</td>
                                    <td>1.5</td>
                                    <td>24</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-6v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-6v</td>
                                </tr>
                                <tr>
                                    <td>8v</td>
                                    <td>2</td>
                                    <td>32</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-8v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-8v</td>
                                </tr>
                                <tr>
                                    <td>10v</td>
                                    <td>2.5</td>
                                    <td>40</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-10v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-10v</td>
                                </tr>
                                <tr>
                                    <td>12v</td>
                                    <td>3</td>
                                    <td>48</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-12v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-12v</td>
                                </tr>
                                <tr>
                                    <td>14v</td>
                                    <td>3.5</td>
                                    <td>56</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-14v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-14v</td>
                                </tr>
                                <tr>
                                    <td>16v</td>
                                    <td>4</td>
                                    <td>64</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-16v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-16v</td>
                                </tr>
                                <tr>
                                    <td>18v</td>
                                    <td>4.5</td>
                                    <td>72</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-18v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-18v</td>
                                </tr>
                                <tr>
                                    <td>20v</td>
                                    <td>5</td>
                                    <td>80</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-20v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-20v</td>
                                </tr>
                                <tr>
                                    <td>22v</td>
                                    <td>5.5</td>
                                    <td>88</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-22v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-22v</td>
                                </tr>
                                <tr>
                                    <td>24v</td>
                                    <td>6</td>
                                    <td>96</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-24v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-24v</td>
                                </tr>
                                <tr>
                                    <td>26v</td>
                                    <td>6.5</td>
                                    <td>104</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-26v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-26v</td>
                                </tr>
                                <tr>
                                    <td>28v</td>
                                    <td>7</td>
                                    <td>112</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-28v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-28v</td>
                                </tr>
                                <tr>
                                    <td>30v</td>
                                    <td>7.5</td>
                                    <td>120</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-30v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-30v</td>
                                </tr>
                                <tr>
                                    <td>32v</td>
                                    <td>8</td>
                                    <td>128</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-32v">2</span>
                                        </div>
                                    </td>
                                    <td>fr-ml-32v</td>
                                </tr>
                                <tr>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>
                                        <div class="sample-box">
                                            <span>1</span>
                                            <span class="fr-ml-auto">2</span>
                                        </div>
                                    </td>
                                    <td>.fr-ml-auto</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <script type="module" src="../../dist/js/core.module.js"></script>
        <script type="text/javascript" nomodule src="../../dist/js/core.nomodule.js"></script>
        <script type="module" src="../../dist/js/accordions.module.js"></script>
        <script type="text/javascript" nomodule src="../../dist/js/accordions.nomodule.js"></script>
        <script type="module" src="../../dist/js/schemes.module.js"></script>
        <script type="text/javascript" nomodule src="../../dist/js/schemes.nomodule.js"></script>
        <script type="module" src="../../dist/js/table.module.js"></script>
        <script type="text/javascript" nomodule src="../../dist/js/table.nomodule.js"></script>
        <script>
            const schemeAttr = 'data-fr-theme';
            const mourningAttr = 'data-fr-mourning';

            class DemoCheckbox {
                constructor(id) {
                    this.checkbox = document.getElementById(id);
                    this.init();
                    this.checkbox.addEventListener('change', this.change.bind(this));
                    window.requestAnimationFrame(this.change.bind(this));
                }

                init() {}

                change() {}
            }

            class AttributeDemoCheckbox extends DemoCheckbox {
                constructor(id, attributeName, checkedValue, uncheckedValue) {
                    super(id);
                    this.attributeName = attributeName;
                    this.checkedValue = checkedValue;
                    this.uncheckedValue = uncheckedValue;
                }

                init() {
                    this.observer = new MutationObserver(this.mutate.bind(this));
                    this.observer.observe(document.documentElement, {
                        attributes: true
                    });
                }

                get state() {
                    const value = document.documentElement.getAttribute(this.attributeName);
                    const has = document.documentElement.hasAttribute(this.attributeName);

                    switch (true) {
                        case this.checkedValue === value:
                            return true;

                        case this.uncheckedValue === value:
                            return false;

                        case this.checkedValue === true && has:
                            return true;

                        case this.uncheckedValue === true && has:
                            return true;
                    }
                    return false;
                }

                mutate(mutations) {
                    mutations.forEach((mutation) => {
                        if (mutation.type === 'attributes' && mutation.attributeName === this.attributeName) this.checkbox.checked = this.state;
                    });
                }

                change() {
                    const value = this.checkbox.checked ? this.checkedValue : this.uncheckedValue;

                    switch (value) {
                        case null:
                            document.documentElement.removeAttribute(this.attributeName);
                            break;

                        case true:
                            document.documentElement.setAttribute(this.attributeName, '');
                            break;

                        default:
                            document.documentElement.setAttribute(this.attributeName, value);
                    }
                }
            }

            new AttributeDemoCheckbox('theme-checkbox', schemeAttr, 'dark', 'light');
            new AttributeDemoCheckbox('mourning-checkbox', mourningAttr, true, null);

        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </body>

</html>
